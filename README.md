# Ryanair Flight Search and CSV Export

Этот проект позволяет автоматизировать процесс поиска дешевых рейсов на сайте Ryanair с использованием библиотеки [Puppeteer](https://pptr.dev/), а затем записывать результаты в CSV файл.

## Описание

Скрипт использует Puppeteer для автоматизации веб-браузера и извлекает данные о рейсах с сайта Ryanair. Для каждого маршрута, заданного в конфигурации, скрипт генерирует URL, выполняет поиск рейсов, и затем записывает полученные данные о рейсах в CSV файл.

Рейсы отсортированы по цене, и в файл будет записан топ-3 самых дешевых рейса для каждого маршрута.

## Структура проекта

- `main.js`: Основной файл, который выполняет поиск рейсов и записывает результаты в CSV.
- `routes.json`: Конфигурационный файл, где задаются маршруты, длина поездки, количество взрослых и детей и т.д.
- `ryanair_airports.csv`: Справочник аэропортов с IATA кодами, обслуживаемыми Ryanair.

## Установка

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/your-username/puppeteer.flyghts.git
cd puppeteer.flyghts
```
### 2. Установите зависимости
Для работы с Puppeteer, выполните команду:

```bash
npm install
```
### 3. Настройка конфигурации
Создайте или отредактируйте файл routes.json с необходимыми параметрами:

```json
{
  "tripLength": 14,
  "month": "2025-05",
  "output": "csv",
  "routes": [
    { "from": "WMI", "to": "BGY" },
    { "from": "WMI", "to": "VIE" },
    { "from": "WMI", "to": "PMI" }
  ],
  "adults": 3,
  "children": 1
}
```

tripLength: Длительность поездки в днях.

month: Месяц для поиска рейсов.

routes: Список маршрутов с указанием кодов аэропортов (IATA).

adults, children: Количество взрослых и детей.

### 4. Запуск скрипта
Запустите скрипт с помощью следующей команды:

```bash
node main.js
```
После выполнения скрипта результаты будут записаны в CSV файл с уникальным именем, включающим текущую дату и время.

Формат CSV
Результаты записи в файл имеют следующий формат:

```csv
Outbound Flight,Return Flight,Outbound Price,Return Price,Total Price
2025-05-11T11:30:00 - 2025-05-11T12:45:00 (Warsaw Modlin -> Budapest),2025-05-24T08:30:00 - 2025-05-24T09:45:00 (Budapest -> Warsaw Modlin),61.5 USD,70.59 USD,132.09 USD
```
Логирование
Все действия скрипта, включая генерацию URL, запросы и полученные данные, будут отображаться в консоли.

Зависимости
```markdown
puppeteer - для автоматизации браузера и сбора данных.
csv-parser - для обработки CSV файлов.
```